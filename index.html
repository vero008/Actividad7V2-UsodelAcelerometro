<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-type" content="text/html;
charset=utf-8">
<meta name="viewport" id="viewport"
content="width=device-width, height=device-height,
initial-scale=1.0, maximum-scale=1.0, user-scalable=no;"
/>
<script type="text/javascript" charset="utf-8"
src="phonegap.js"></script>
<script type="text/javascript" charset="utf-8">
// Accelerometer watcher ID
var awID;
//Orientation content
var ac;
function onBodyLoad() {
document.addEventListener("deviceready", onDeviceReady,
false);
}
function onDeviceReady() {
//Get a handle we'll use to adjust the
//acceleration content
ac = document.getElementById('accelInfo');
//Accelerometer Options, read the accelerometer
//every half second (500 milliseconds)
var accelOptions = { frequency: 500 };
//Add the accelerometer watcher
awID = navigator.accelerometer.watchAcceleration(
onAccelSuccess, onAccelFailure, accelOptions);
}
function onAccelSuccess(accel) {
//Then replace the page's content with the
//current orientation retrieved from the API
ac.innerHTML = "<b>X:</b> " + accel.x +
"<br /><b>Y:</b> " + accel.y +
"<br /><b>Z:</b> " + accel.z;
}
function onAccelFailure() {
alert("Accelerometer error! Clearing Watch ID");
//Cancel the watch
navigator.accelerometer.clearWatch(awID);
}
</script>
</head>
<body onload="onBodyLoad()">
<center><h1>Actividad 7. Uso del Acelerometro en PhoneGap Version 2</h1></center>
<center><p>Apache PhoneGap Accelerometer Watcher</p></center>
<center><p>Verónica Aguirre Frías</p></center>
<p><b>Current Orientation</b><hr /></p>
<p id="accelInfo">Waiting for PhoneGap to initialize.
</p>
<hr />
</body>
</html>